/*!
 * jQuery Browser Plugin v0.0.3
 * https://github.com/gabceb/jquery-browser-plugin
 *
 * Original jquery-browser code Copyright 2005, 2013 jQuery Foundation, Inc. and other contributors
 * http://jquery.org/license
 *
 * Modifications Copyright 2013 Gabriel Cebrian
 * https://github.com/gabceb
 *
 * Released under the MIT license
 *
 * Date: 2013-07-29T17:23:27-07:00
 */
(function(d,b,f){var c,a;d.uaMatch=function(h){h=h.toLowerCase();var g=/(opr)[\/]([\w.]+)/.exec(h)||/(chrome)[ \/]([\w.]+)/.exec(h)||/(webkit)[ \/]([\w.]+)/.exec(h)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(h)||/(msie) ([\w.]+)/.exec(h)||h.indexOf("trident")>=0&&/(rv)(?::| )([\w.]+)/.exec(h)||h.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(h)||[];var i=/(ipad)/.exec(h)||/(iphone)/.exec(h)||/(android)/.exec(h)||/(win)/.exec(h)||/(mac)/.exec(h)||/(linux)/.exec(h)||[];return{browser:g[1]||"",version:g[2]||"0",platform:i[0]||""}};c=d.uaMatch(b.navigator.userAgent);a={};if(c.browser){a[c.browser]=true;a.version=c.version}if(c.platform){a[c.platform]=true}if(a.chrome||a.opr){a.webkit=true}else{if(a.webkit){a.safari=true}}if(a.rv){a.msie=true}if(a.opr){a.opera=true}d.browser=a})(jQuery,window);
/*!
 * Masonry PACKAGED v3.1.1
 * Cascading grid layout library
 * http://masonry.desandro.com
 * MIT License
 * by David DeSandro
 */
(function(b){function c(f){if(f){if("string"==typeof d[f]){return f}f=f.charAt(0).toUpperCase()+f.slice(1);for(var h,i=0,g=a.length;g>i;i++){if(h=a[i]+f,"string"==typeof d[h]){return h}}}}var a="Webkit Moz ms Ms O".split(" "),d=document.documentElement.style;"function"==typeof define&&define.amd?define(function(){return c}):b.getStyleProperty=c})(window),function(b){function f(k){var l=parseFloat(k),j=-1===k.indexOf("%")&&!isNaN(l);return j&&l}function a(){for(var k={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},l=0,j=c.length;j>l;l++){var m=c[l];k[m]=0}return k}function h(i){function k(z){if("string"==typeof z&&(z=document.querySelector(z)),z&&"object"==typeof z&&z.nodeType){var B=d(z);if("none"===B.display){return a()}var F={};F.width=z.offsetWidth,F.height=z.offsetHeight;for(var w=F.isBorderBox=!(!e||!B[e]||"border-box"!==B[e]),A=0,H=c.length;H>A;A++){var I=c[A],J=B[I],D=parseFloat(J);F[I]=isNaN(D)?0:D}var C=F.paddingLeft+F.paddingRight,r=F.paddingTop+F.paddingBottom,G=F.marginLeft+F.marginRight,s=F.marginTop+F.marginBottom,M=F.borderLeftWidth+F.borderRightWidth,K=F.borderTopWidth+F.borderBottomWidth,x=w&&j,q=f(B.width);q!==!1&&(F.width=q+(x?0:C+M));var o=f(B.height);return o!==!1&&(F.height=o+(x?0:r+K)),F.innerWidth=F.width-(C+M),F.innerHeight=F.height-(r+K),F.outerWidth=F.width+G,F.outerHeight=F.height+s,F}}var j,e=i("boxSizing");return function(){if(e){var m=document.createElement("div");m.style.width="200px",m.style.padding="1px 2px 3px 4px",m.style.borderStyle="solid",m.style.borderWidth="1px 2px 3px 4px",m.style[e]="border-box";var l=document.body||document.documentElement;l.appendChild(m);var o=d(m);j=200===f(o.width),l.removeChild(m)}}(),k}var g=document.defaultView,d=g&&g.getComputedStyle?function(e){return g.getComputedStyle(e,null)}:function(e){return e.currentStyle},c=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"];"function"==typeof define&&define.amd?define(["get-style-property/get-style-property"],h):b.getSize=h(b.getStyleProperty)}(window),function(b){var c=document.documentElement,a=function(){};c.addEventListener?a=function(h,j,g){h.addEventListener(j,g,!1)}:c.attachEvent&&(a=function(h,g,j){h[g+j]=j.handleEvent?function(){var i=b.event;i.target=i.target||i.srcElement,j.handleEvent.call(j,i)}:function(){var e=b.event;e.target=e.target||e.srcElement,j.call(h,e)},h.attachEvent("on"+g,h[g+j])});var f=function(){};c.removeEventListener?f=function(h,j,g){h.removeEventListener(j,g,!1)}:c.detachEvent&&(f=function(h,j,g){h.detachEvent("on"+j,h[j+g]);try{delete h[j+g]}catch(k){h[j+g]=void 0}});var d={bind:a,unbind:f};"function"==typeof define&&define.amd?define(d):b.eventie=d}(this),function(b){function d(e){"function"==typeof e&&(d.isReady?e():c.push(e))}function a(j){var h="readystatechange"===j.type&&"complete"!==f.readyState;if(!d.isReady&&!h){d.isReady=!0;for(var l=0,k=c.length;k>l;l++){var e=c[l];e()}}}function g(e){return e.bind(f,"DOMContentLoaded",a),e.bind(f,"readystatechange",a),e.bind(b,"load",a),d}var f=b.document,c=[];d.isReady=!1,"function"==typeof define&&define.amd?(d.isReady="function"==typeof requirejs,define(["eventie/eventie"],g)):b.docReady=g(b.eventie)}(this),function(){function b(){}function c(f,g){for(var d=f.length;d--;){if(f[d].listener===g){return d}}return -1}var a=b.prototype;a.getListeners=function(f){var g,d,h=this._getEvents();if("object"==typeof f){g={};for(d in h){h.hasOwnProperty(d)&&f.test(d)&&(g[d]=h[d])}}else{g=h[f]||(h[f]=[])}return g},a.flattenListeners=function(f){var g,d=[];for(g=0;f.length>g;g+=1){d.push(f[g].listener)}return d},a.getListenersAsObject=function(f){var g,d=this.getListeners(f);return d instanceof Array&&(g={},g[f]=d),g||d},a.addListener=function(e,d){var h,g=this.getListenersAsObject(e),f="object"==typeof d;for(h in g){g.hasOwnProperty(h)&&-1===c(g[h],d)&&g[h].push(f?d:{listener:d,once:!1})}return this},a.on=a.addListener,a.addOnceListener=function(d,f){return this.addListener(d,{listener:f,once:!0})},a.once=a.addOnceListener,a.defineEvent=function(d){return this.getListeners(d),this},a.defineEvents=function(d){for(var f=0;d.length>f;f+=1){this.defineEvent(d[f])}return this},a.removeListener=function(e,d){var h,g,f=this.getListenersAsObject(e);for(g in f){f.hasOwnProperty(g)&&(h=c(f[g],d),-1!==h&&f[g].splice(h,1))}return this},a.off=a.removeListener,a.addListeners=function(d,f){return this.manipulateListeners(!1,d,f)},a.removeListeners=function(d,f){return this.manipulateListeners(!0,d,f)},a.manipulateListeners=function(f,j,d){var l,k,h=f?this.removeListener:this.addListener,g=f?this.removeListeners:this.addListeners;if("object"!=typeof j||j instanceof RegExp){for(l=d.length;l--;){h.call(this,j,d[l])}}else{for(l in j){j.hasOwnProperty(l)&&(k=j[l])&&("function"==typeof k?h.call(this,l,k):g.call(this,l,k))}}return this},a.removeEvent=function(f){var g,d=typeof f,h=this._getEvents();if("string"===d){delete h[f]}else{if("object"===d){for(g in h){h.hasOwnProperty(g)&&f.test(g)&&delete h[g]}}else{delete this._events}}return this},a.emitEvent=function(f,j){var d,l,k,h,g=this.getListenersAsObject(f);for(k in g){if(g.hasOwnProperty(k)){for(l=g[k].length;l--;){d=g[k][l],h=d.listener.apply(this,j||[]),(h===this._getOnceReturnValue()||d.once===!0)&&this.removeListener(f,d.listener)}}}return this},a.trigger=a.emitEvent,a.emit=function(d){var f=Array.prototype.slice.call(arguments,1);return this.emitEvent(d,f)},a.setOnceReturnValue=function(d){return this._onceReturnValue=d,this},a._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},a._getEvents=function(){return this._events||(this._events={})},"function"==typeof define&&define.amd?define(function(){return b}):"undefined"!=typeof module&&module.exports?module.exports=b:this.EventEmitter=b}.call(this),function(b){function c(){}function a(f){function e(i){i.prototype.option||(i.prototype.option=function(j){f.isPlainObject(j)&&(this.options=f.extend(!0,this.options,j))})}function h(k,j){f.fn[k]=function(t){if("string"==typeof t){for(var n=d.call(arguments,1),i=0,m=this.length;m>i;i++){var l=this[i],r=f.data(l,k);if(r){if(f.isFunction(r[t])&&"_"!==t.charAt(0)){var q=r[t].apply(r,n);if(void 0!==q){return q}}else{g("no such method '"+t+"' for "+k+" instance")}}else{g("cannot call methods on "+k+" prior to initialization; attempted to call '"+t+"'")}}return this}return this.each(function(){var o=f.data(this,k);o?(o.option(t),o._init()):(o=new j(this,t),f.data(this,k,o))})}}if(f){var g="undefined"==typeof console?c:function(i){console.error(i)};f.bridget=function(i,j){e(j),h(i,j)}}}var d=Array.prototype.slice;"function"==typeof define&&define.amd?define(["jquery"],a):a(b.jQuery)}(window),function(m,j){function f(a,h){return a[k](h)}function d(a){if(!a.parentNode){var h=document.createDocumentFragment();h.appendChild(a)}}function c(h,q){d(h);for(var a=h.parentNode.querySelectorAll(q),s=0,n=a.length;n>s;s++){if(a[s]===h){return !0}}return !1}function b(a,h){return d(a),f(a,h)}var p,k=function(){if(j.matchesSelector){return"matchesSelector"}for(var e=["webkit","moz","ms","o"],a=0,s=e.length;s>a;a++){var q=e[a],h=q+"MatchesSelector";if(j[h]){return h}}}();if(k){var g=document.createElement("div"),l=f(g,"div");p=l?f:b}else{p=c}"function"==typeof define&&define.amd?define(function(){return p}):window.matchesSelector=p}(this,Element.prototype),function(b){function c(h,j){for(var g in j){h[g]=j[g]}return h}function a(z,m,j){function e(h,i){h&&(this.element=h,this.layout=i,this.position={x:0,y:0},this._create())}var A=j("transition"),x=j("transform"),o=A&&x,y=!!j("perspective"),g={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"}[A],q=["transform","transition","transitionDuration","transitionProperty"],v=function(){for(var l={},p=0,h=q.length;h>p;p++){var s=q[p],n=j(s);n&&n!==s&&(l[s]=n)}return l}();c(e.prototype,z.prototype),e.prototype._create=function(){this.css({position:"absolute"})},e.prototype.handleEvent=function(h){var i="on"+h.type;this[i]&&this[i](h)},e.prototype.getSize=function(){this.size=m(this.element)},e.prototype.css=function(l){var p=this.element.style;for(var h in l){var r=v[h]||h;p[r]=l[h]}},e.prototype.getPosition=function(){var p=d(this.element),C=this.layout.options,l=C.isOriginLeft,D=C.isOriginTop,B=parseInt(p[l?"left":"right"],10),u=parseInt(p[D?"top":"bottom"],10);B=isNaN(B)?0:B,u=isNaN(u)?0:u;var h=this.layout.size;B-=l?h.paddingLeft:h.paddingRight,u-=D?h.paddingTop:h.paddingBottom,this.position.x=B,this.position.y=u},e.prototype.layoutPosition=function(){var l=this.layout.size,n=this.layout.options,h={};n.isOriginLeft?(h.left=this.position.x+l.paddingLeft+"px",h.right=""):(h.right=this.position.x+l.paddingRight+"px",h.left=""),n.isOriginTop?(h.top=this.position.y+l.paddingTop+"px",h.bottom=""):(h.bottom=this.position.y+l.paddingBottom+"px",h.top=""),this.css(h),this.emitEvent("layout",[this])};var w=y?function(h,i){return"translate3d("+h+"px, "+i+"px, 0)"}:function(h,i){return"translate("+h+"px, "+i+"px)"};e.prototype._transitionTo=function(J,G){this.getPosition();var E=this.position.x,D=this.position.y,C=parseInt(J,10),l=parseInt(G,10),K=C===this.position.x&&l===this.position.y;if(this.setPosition(J,G),K&&!this.isTransitioning){return this.layoutPosition(),void 0}var H=J-E,F=G-D,I={},B=this.layout.options;H=B.isOriginLeft?H:-H,F=B.isOriginTop?F:-F,I.transform=w(H,F),this.transition({to:I,onTransitionEnd:this.layoutPosition,isCleaning:!0})},e.prototype.goTo=function(h,i){this.setPosition(h,i),this.layoutPosition()},e.prototype.moveTo=o?e.prototype._transitionTo:e.prototype.goTo,e.prototype.setPosition=function(h,i){this.position.x=parseInt(h,10),this.position.y=parseInt(i,10)},e.prototype._nonTransition=function(h){this.css(h.to),h.isCleaning&&this._removeStyles(h.to),h.onTransitionEnd&&h.onTransitionEnd.call(this)},e.prototype._transition=function(l){var B=this.layout.options.transitionDuration;if(!parseFloat(B)){return this._nonTransition(l),void 0}var h=l.to,D=[];for(var C in h){D.push(C)}var u={};if(u.transitionProperty=D.join(","),u.transitionDuration=B,this.element.addEventListener(g,this,!1),(l.isCleaning||l.onTransitionEnd)&&this.on("transitionEnd",function(i){return l.isCleaning&&i._removeStyles(h),l.onTransitionEnd&&l.onTransitionEnd.call(i),!0}),l.from){this.css(l.from);var p=this.element.offsetHeight;p=null}this.css(u),this.css(h),this.isTransitioning=!0},e.prototype.transition=e.prototype[A?"_transition":"_nonTransition"],e.prototype.onwebkitTransitionEnd=function(h){this.ontransitionend(h)},e.prototype.onotransitionend=function(h){this.ontransitionend(h)},e.prototype.ontransitionend=function(h){h.target===this.element&&(this.removeTransitionStyles(),this.element.removeEventListener(g,this,!1),this.isTransitioning=!1,this.emitEvent("transitionEnd",[this]))},e.prototype._removeStyles=function(l){var n={};for(var h in l){n[h]=""}this.css(n)};var k={transitionProperty:"",transitionDuration:""};return e.prototype.removeTransitionStyles=function(){this.css(k)},e.prototype.removeElem=function(){this.element.parentNode.removeChild(this.element),this.emitEvent("remove",[this])},e.prototype.remove=function(){if(!A||!parseFloat(this.layout.options.transitionDuration)){return this.removeElem(),void 0}var h=this;this.on("transitionEnd",function(){return h.removeElem(),!0}),this.hide()},e.prototype.reveal=function(){delete this.isHidden,this.css({display:""});var h=this.layout.options;this.transition({from:h.hiddenStyle,to:h.visibleStyle,isCleaning:!0})},e.prototype.hide=function(){this.isHidden=!0,this.css({display:""});var h=this.layout.options;this.transition({from:h.visibleStyle,to:h.hiddenStyle,isCleaning:!0,onTransitionEnd:function(){this.css({display:"none"})}})},e.prototype.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},e}var f=document.defaultView,d=f&&f.getComputedStyle?function(e){return f.getComputedStyle(e,null)}:function(e){return e.currentStyle};"function"==typeof define&&define.amd?define(["eventEmitter/EventEmitter","get-size/get-size","get-style-property/get-style-property"],a):(b.Outlayer={},b.Outlayer.Item=a(b.EventEmitter,b.getSize,b.getStyleProperty))}(window),function(y){function q(d,f){for(var a in f){d[a]=f[a]}return d}function k(a){return"[object Array]"===c.call(a)}function j(a){var d=[];if(k(a)){d=a}else{if(a&&"number"==typeof a.length){for(var h=0,f=a.length;f>h;h++){d.push(a[h])}}else{d.push(a)}}return d}function g(a){return a.replace(/(.)([A-Z])/g,function(f,h,d){return h+"-"+d}).toLowerCase()}function b(h,a,d,o,f,e){function s(r,p){if("string"==typeof r&&(r=z.querySelector(r)),!r||!m(r)){return w&&w.error("Bad "+this.settings.namespace+" element: "+r),void 0}this.element=r,this.options=q({},this.options),q(this.options,p);var A=++u;this.element.outlayerGUID=A,t[A]=this,this._create(),this.options.isInitLayout&&this.layout()}function n(r,p){r.prototype[p]=q({},s.prototype[p])}var u=0,t={};return s.prototype.settings={namespace:"outlayer",item:e},s.prototype.options={containerStyle:{position:"relative"},isInitLayout:!0,isOriginLeft:!0,isOriginTop:!0,isResizeBound:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}},q(s.prototype,d.prototype),s.prototype._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),q(this.element.style,this.options.containerStyle),this.options.isResizeBound&&this.bindResize()},s.prototype.reloadItems=function(){this.items=this._getItems(this.element.children)},s.prototype._getItems=function(B){for(var E=this._filterFindItemElements(B),A=this.settings.item,G=[],F=0,D=E.length;D>F;F++){var C=E[F],p=new A(C,this,this.options.itemOptions);G.push(p)}return G},s.prototype._filterFindItemElements=function(G){G=j(G);for(var D=this.options.itemSelector,B=[],A=0,p=G.length;p>A;A++){var H=G[A];if(m(H)){if(D){f(H,D)&&B.push(H);for(var E=H.querySelectorAll(D),C=0,F=E.length;F>C;C++){B.push(E[C])}}else{B.push(H)}}}return B},s.prototype.getItemElements=function(){for(var r=[],A=0,p=this.items.length;p>A;A++){r.push(this.items[A].element)}return r},s.prototype.layout=function(){this._resetLayout(),this._manageStamps();var i=void 0!==this.options.isLayoutInstant?this.options.isLayoutInstant:!this._isLayoutInited;this.layoutItems(this.items,i),this._isLayoutInited=!0},s.prototype._init=s.prototype.layout,s.prototype._resetLayout=function(){this.getSize()},s.prototype.getSize=function(){this.size=o(this.element)},s.prototype._getMeasurement=function(r,A){var p,B=this.options[r];B?("string"==typeof B?p=this.element.querySelector(B):m(B)&&(p=B),this[r]=p?o(p)[A]:B):this[r]=0},s.prototype.layoutItems=function(i,p){i=this._getItemsForLayout(i),this._layoutItems(i,p),this._postLayout()},s.prototype._getItemsForLayout=function(r){for(var A=[],p=0,C=r.length;C>p;p++){var B=r[p];B.isIgnored||A.push(B)}return A},s.prototype._layoutItems=function(A,D){if(!A||!A.length){return this.emitEvent("layoutComplete",[this,A]),void 0}this._itemsOn(A,"layout",function(){this.emitEvent("layoutComplete",[this,A])});for(var p=[],F=0,E=A.length;E>F;F++){var C=A[F],B=this._getItemLayoutPosition(C);B.item=C,B.isInstant=D,p.push(B)}this._processLayoutQueue(p)},s.prototype._getItemLayoutPosition=function(){return{x:0,y:0}},s.prototype._processLayoutQueue=function(r){for(var A=0,p=r.length;p>A;A++){var B=r[A];this._positionItem(B.item,B.x,B.y,B.isInstant)}},s.prototype._positionItem=function(r,A,p,B){B?r.goTo(A,p):r.moveTo(A,p)},s.prototype._postLayout=function(){var i=this._getContainerSize();i&&(this._setContainerMeasure(i.width,!0),this._setContainerMeasure(i.height,!1))},s.prototype._getContainerSize=x,s.prototype._setContainerMeasure=function(r,A){if(void 0!==r){var p=this.size;p.isBorderBox&&(r+=A?p.paddingLeft+p.paddingRight+p.borderLeftWidth+p.borderRightWidth:p.paddingBottom+p.paddingTop+p.borderTopWidth+p.borderBottomWidth),r=Math.max(r,0),this.element.style[A?"width":"height"]=r+"px"}},s.prototype._itemsOn=function(H,E,C){function B(){return A++,A===p&&C.call(I),!0}for(var A=0,p=H.length,I=this,F=0,D=H.length;D>F;F++){var G=H[F];G.on(E,B)}},s.prototype.ignore=function(i){var p=this.getItem(i);p&&(p.isIgnored=!0)},s.prototype.unignore=function(i){var p=this.getItem(i);p&&delete p.isIgnored},s.prototype.stamp=function(r){if(r=this._find(r)){this.stamps=this.stamps.concat(r);for(var A=0,p=r.length;p>A;A++){var B=r[A];this.ignore(B)}}},s.prototype.unstamp=function(r){if(r=this._find(r)){for(var A=0,p=r.length;p>A;A++){var C=r[A],B=v(this.stamps,C);-1!==B&&this.stamps.splice(B,1),this.unignore(C)}}},s.prototype._find=function(i){return i?("string"==typeof i&&(i=this.element.querySelectorAll(i)),i=j(i)):void 0},s.prototype._manageStamps=function(){if(this.stamps&&this.stamps.length){this._getBoundingRect();for(var r=0,A=this.stamps.length;A>r;r++){var p=this.stamps[r];this._manageStamp(p)}}},s.prototype._getBoundingRect=function(){var i=this.element.getBoundingClientRect(),p=this.size;this._boundingRect={left:i.left+p.paddingLeft+p.borderLeftWidth,top:i.top+p.paddingTop+p.borderTopWidth,right:i.right-(p.paddingRight+p.borderRightWidth),bottom:i.bottom-(p.paddingBottom+p.borderBottomWidth)}},s.prototype._manageStamp=x,s.prototype._getElementOffset=function(r){var A=r.getBoundingClientRect(),p=this._boundingRect,C=o(r),B={left:A.left-p.left-C.marginLeft,top:A.top-p.top-C.marginTop,right:p.right-A.right-C.marginRight,bottom:p.bottom-A.bottom-C.marginBottom};return B},s.prototype.handleEvent=function(i){var p="on"+i.type;this[p]&&this[p](i)},s.prototype.bindResize=function(){this.isResizeBound||(h.bind(y,"resize",this),this.isResizeBound=!0)},s.prototype.unbindResize=function(){h.unbind(y,"resize",this),this.isResizeBound=!1},s.prototype.onresize=function(){function i(){p.resize()}this.resizeTimeout&&clearTimeout(this.resizeTimeout);var p=this;this.resizeTimeout=setTimeout(i,100)},s.prototype.resize=function(){var i=o(this.element),p=this.size&&i;p&&i.innerWidth===this.size.innerWidth||(this.layout(),delete this.resizeTimeout)},s.prototype.addItems=function(i){var p=this._getItems(i);if(p.length){return this.items=this.items.concat(p),p}},s.prototype.appended=function(i){var p=this.addItems(i);p.length&&(this.layoutItems(p,!0),this.reveal(p))},s.prototype.prepended=function(r){var A=this._getItems(r);if(A.length){var p=this.items.slice(0);this.items=A.concat(p),this._resetLayout(),this.layoutItems(A,!0),this.reveal(A),this.layoutItems(p)}},s.prototype.reveal=function(r){if(r&&r.length){for(var A=0,p=r.length;p>A;A++){var B=r[A];B.reveal()}}},s.prototype.hide=function(r){if(r&&r.length){for(var A=0,p=r.length;p>A;A++){var B=r[A];B.hide()}}},s.prototype.getItem=function(r){for(var A=0,p=this.items.length;p>A;A++){var B=this.items[A];if(B.element===r){return B}}},s.prototype.getItems=function(A){if(A&&A.length){for(var C=[],p=0,E=A.length;E>p;p++){var D=A[p],B=this.getItem(D);B&&C.push(B)}return C}},s.prototype.remove=function(A){A=j(A);var D=this.getItems(A);if(D&&D.length){this._itemsOn(D,"remove",function(){this.emitEvent("removeComplete",[this,D])});for(var p=0,E=D.length;E>p;p++){var C=D[p];C.remove();var B=v(this.items,C);this.items.splice(B,1)}}},s.prototype.destroy=function(){var r=this.element.style;r.height="",r.position="",r.width="";for(var A=0,p=this.items.length;p>A;A++){var B=this.items[A];B.destroy()}this.unbindResize(),delete this.element.outlayerGUID,l&&l.removeData(this.element,this.settings.namespace)},s.data=function(i){var p=i&&i.outlayerGUID;return p&&t[p]},s.create=function(r,p){function A(){s.apply(this,arguments)}return q(A.prototype,s.prototype),n(A,"options"),n(A,"settings"),q(A.prototype.options,p),A.prototype.settings.namespace=r,A.data=s.data,A.Item=function(){e.apply(this,arguments)},A.Item.prototype=new e,A.prototype.settings.item=A.Item,a(function(){for(var H=g(r),F=z.querySelectorAll(".js-"+H),B="data-"+H+"-options",K=0,C=F.length;C>K;K++){var G,I=F[K],J=I.getAttribute(B);try{G=J&&JSON.parse(J)}catch(E){w&&w.error("Error parsing "+B+" on "+I.nodeName.toLowerCase()+(I.id?"#"+I.id:"")+": "+E);continue}var D=new A(I,G);l&&l.data(I,r,D)}}),l&&l.bridget&&l.bridget(r,A),A},s.Item=e,s}var z=y.document,w=y.console,l=y.jQuery,x=function(){},c=Object.prototype.toString,m="object"==typeof HTMLElement?function(a){return a instanceof HTMLElement}:function(a){return a&&"object"==typeof a&&1===a.nodeType&&"string"==typeof a.nodeName},v=Array.prototype.indexOf?function(a,d){return a.indexOf(d)}:function(d,f){for(var a=0,h=d.length;h>a;a++){if(d[a]===f){return a}}return -1};"function"==typeof define&&define.amd?define(["eventie/eventie","doc-ready/doc-ready","eventEmitter/EventEmitter","get-size/get-size","matches-selector/matches-selector","./item"],b):y.Outlayer=b(y.eventie,y.docReady,y.EventEmitter,y.getSize,y.matchesSelector,y.Outlayer.Item)}(window),function(b){function c(d,f){var g=d.create("masonry");return g.prototype._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns();var e=this.cols;for(this.colYs=[];e--;){this.colYs.push(0)}this.maxY=0},g.prototype.measureColumns=function(){var h=this._getSizingContainer(),e=this.items[0],j=e&&e.element;this.columnWidth||(this.columnWidth=j?f(j).outerWidth:this.size.innerWidth),this.columnWidth+=this.gutter,this._containerWidth=f(h).innerWidth,this.cols=Math.floor((this._containerWidth+this.gutter)/this.columnWidth),this.cols=Math.max(this.cols,1)},g.prototype._getSizingContainer=function(){return this.options.isFitWidth?this.element.parentNode:this.element},g.prototype._getItemLayoutPosition=function(v){v.getSize();var m=Math.ceil(v.size.outerWidth/this.columnWidth);m=Math.min(m,this.cols);for(var k=this._getColGroup(m),j=Math.min.apply(Math,k),i=a(k,j),w={x:this.columnWidth*i,y:j},p=j+v.size.outerHeight,l=this.cols+1-k.length,q=0;l>q;q++){this.colYs[i+q]=p}return w},g.prototype._getColGroup=function(j){if(1===j){return this.colYs}for(var k=[],h=this.cols+1-j,m=0;h>m;m++){var l=this.colYs.slice(m,m+j);k[m]=Math.max.apply(Math,l)}return k},g.prototype._manageStamp=function(v){var l=f(v),k=this._getElementOffset(v),j=this.options.isOriginLeft?k.left:k.right,e=j+l.outerWidth,w=Math.floor(j/this.columnWidth);w=Math.max(0,w);var p=Math.floor(e/this.columnWidth);p=Math.min(this.cols-1,p);for(var m=(this.options.isOriginTop?k.top:k.bottom)+l.outerHeight,q=w;p>=q;q++){this.colYs[q]=Math.max(m,this.colYs[q])}},g.prototype._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var e={height:this.maxY};return this.options.isFitWidth&&(e.width=this._getContainerFitWidth()),e},g.prototype._getContainerFitWidth=function(){for(var h=0,i=this.cols;--i&&0===this.colYs[i];){h++}return(this.cols-h)*this.columnWidth-this.gutter},g.prototype.resize=function(){var h=this._getSizingContainer(),e=f(h),j=this.size&&e;j&&e.innerWidth===this._containerWidth||(this.layout(),delete this.resizeTimeout)},g}var a=Array.prototype.indexOf?function(d,f){return d.indexOf(f)}:function(f,g){for(var d=0,j=f.length;j>d;d++){var h=f[d];if(h===g){return d}}return -1};"function"==typeof define&&define.amd?define(["outlayer/outlayer","get-size/get-size"],c):b.Masonry=c(b.Outlayer,b.getSize)}(window);function roundHeadshots(){$(".people li figure a.thumbnail").css({height:$(".people li figure a.thumbnail").width()});$("window").resize(function(){$(".people li figure a.thumbnail").css({height:$(".people li figure a.thumbnail").width()})})}function simpleParseURL(b,c){if(b!=undefined){var f=b.toString(),g=c+"=",d="",a=$("#filter-on-page"),e=$("#subject-dropdown");if(f!=null||f!=undefined||f==""){d=f.split(g)[1];if(d!=undefined){d=d.split("&amp;")[0].split("&")[0];d=d.split("-").join(" ").toLowerCase();d=d.split("(");d=d[0];e.children("option[value='"+d+"']").attr("selected","selected");a.hide().val(d).keyup()}}}}function subjectLibrarianSort(){var h=$(".subjects p a"),a=$("#filter-on-page"),g=$("<select></select>").attr({id:"subject-dropdown","class":"span9"}),i='<option value="">--All Subjects--</option>',c=[],d=[];function e(k,j){return($(j).text())<($(k).text())?1:-1}function b(k,j){return($(j).text())>($(k).text())?1:-1}h.each(function(j){var k=$(this),l=k.html();if(l.length>4&&$.trim(l)!=""){c.push(l)}});$.each(c,function(j,k){if($.inArray(k,d)===-1){d.push(k)}});$.each(d,function(){var k,j;k=this.split("(");k=k[0];j="<option value='"+k.toLowerCase()+"'>"+this+"</option>";i+=j});a.hide().val("").keyup();g.html(i).insertAfter(a).on("change",function(){a.val($(this).children("option:selected").val()).keyup()});$("#subject-dropdown option").sort(e).appendTo("#subject-dropdown");var f=$(".subject-libs .intro > h1");h.bind("click",function(j){j.preventDefault?j.preventDefault():j.returnValue=false;$("html, body").animate({scrollTop:f.offset().top});var k=$(this).html();k=k.split("(");k=k[0];g.children("option[value='"+k.toLowerCase()+"']").attr("selected","selected");$("#filter-on-page").val(k).keyup()});simpleParseURL(window.location.search,"subject")}$(document).ready(function(){searchOnPage(".people:first",".people li","Search people by name, title, or department.");placeholderFallback();$("#filter-on-page").val("").keyup();roundHeadshots();if($(".data-entry").hasClass("subject-libs")&&$("table").hasClass("full-width")){searchOnPage(".full-width",".full-width tbody tr","Search people by name, contact info, or position.");placeholderFallback();subjectLibrarianSort()}else{if($(".data-entry").hasClass("subject-libs")){subjectLibrarianSort()}}if($("table").hasClass("full-bio-listing")){searchOnPage(".full-bio-listing",".full-bio-listing tbody tr","Search people by name, contact info, or position.");placeholderFallback();$("#filter-on-page").bind("keyup",function(){$("html, body").animate({scrollTop:$("#main-content").offset().top},500)});$(window).scroll(function(){$("html, body").stop(true,true)})}var a=$("div.pages");if(a.length>0){if($.browser.msie&&$.browser.version<8){}else{a.masonry({columnWidth:10,itemSelector:".page",gutter:10})}}});