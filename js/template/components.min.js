$(function(){if($(".movie-list li").length>1){$(".movie-list").dataFilter({showSearch:true,startsWith:"all",showNumbers:true,formClass:"span12",searchPlaceholder:"Search for a movie by title"})}if($(".ebook-list li").length>1){$(".ebook-list").dataFilter({showSearch:true,startsWith:"all",showNumbers:true,formClass:"span12",searchPlaceholder:"Search for an e-book by title"})}if($(".az-list li").length>1){$(".az-list").dataFilter({formClass:"span12"})}if($("form#database-filter").length>0){$("form#database-filter .accordion-heading > a").after('<span class="icon-angle-right"></span>');$(".collapse").on("show",function(){$(this).parent().find(".icon-angle-right").removeClass("icon-angle-right").addClass("icon-angle-down")}).on("hide",function(){$(this).parent().find(".icon-angle-down").removeClass("icon-angle-down").addClass("icon-angle-right")})}});$(document).ready(function(c){c(".main-video").fitVids();c(".video-playlist").css("height",c(".main-video").css("height"));c(".video-playlist li a").each(function(){var e=c(this).attr("href");var f=c(this).children("h3").text();if(e.match("http://(www.)?youtube|youtu.be")){youtubeid=e.split(/v\/|v=|youtu\.be\//)[1].split(/[?&]/)[0]}var d="http://img.youtube.com/vi/"+youtubeid+"/default.jpg";c(this).parent().addClass("thumbnail");c(this).addClass("clearfix");c(this).children("h3").before('<img src="'+d+'" alt="Thumbnail for '+f+'" class="pull-left" />')});var a={};c(".video-playlist li a").click(function(){var g=c(this).attr("data-quality");if(g===undefined){g="default"}var f=c(this).attr("data-player-id");var e=c(this).attr("href");if(e.match("http://(www.)?youtube|youtu.be")){youtubeid=e.split(/v\/|v=|youtu\.be\//)[1].split(/[?&]/)[0]}var d="http://img.youtube.com/vi/"+youtubeid+"/default.jpg";b(f,youtubeid,g);return false});function b(e,d,f){if(e in a){a[e].loadVideoById(d)}else{a[e]=new YT.Player(e,{events:{onReady:function(){a[e].loadVideoById(d);a[e].setPlaybackQuality(f)}}})}}});$("#accordion").on("show",function(a){$(a.target).prev("h2.accordion-heading").children("a").children("span").addClass("icon-rotate-90")});$("#accordion").on("hide",function(){$(this).find(".icon-rotate-90").removeClass("icon-rotate-90")});